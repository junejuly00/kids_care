<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:href="@{/fragment/head.html}">
<meta charset="UTF-8">
<title></title>
<link rel="stylesheet" th:href="@{/static/css/nav.css}" />
<link rel="stylesheet" th:href="@{/static/css/post_add.css}" /> 

<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-lite.min.js"></script>

<script src="/js/summernote-ko-KR.js"></script>

</head>
<body>

	<nav th:replace="/nav.html"></nav>
	
	<div class="main_txt">
		<h2>커뮤니티 글 등록</h2>
	</div>
	
	<div class="wrap">
	
		
		

		<form action="/kcuserpost/add" method="post" enctype="multipart/form-data">
	<!--  <input type="hidden" name="userPostId" th:value="${userPostId}"/> 

        <input type="hidden" name="username" th:value="${username}"/> 
        <input type="hidden" name="date" th:value="${date}"/> -->

			<p>
				userpostid<input type="number" name="userPostId" />
			</p>
			
			<p>
				username<input type="text" name="username" />
			</p>
			
			<p>
				Title: <input type="text" name="title" />
			</p>
			
			<p>Content:</p>
			
			<textarea name="contents" rows="20" cols="150" id="notice_txt"></textarea>
			
			<div>
				<button>등록</button>			
			</div>
			
			<div>
				<a href="list">취소</a>
			</div>
			<div class="upload_sec">
					<label class="col-1">제품 이미지:</label> 
					<button type="button" class="add">파일 추가</button>
					<div class="upload_btn">
						<input name="uploadFile" type="file">
					</div>
				</div>
				<script>
					const addBtn = document.querySelector('.add');
				    addBtn.addEventListener('click', function() {
				        const newDiv = document.createElement('div');
				        newDiv.className = 'upload_btn';
				        
				        const input = document.createElement('input');
				        input.name = 'uploadFile';
				        input.type = 'file';
				        
				        const deleteBtn = document.createElement('button');
				        deleteBtn.type = 'button';
				        deleteBtn.textContent = '삭제';
				        deleteBtn.addEventListener('click', function() {
				        	newDiv.remove();
				        })
	
				        newDiv.appendChild(input);
				        newDiv.appendChild(deleteBtn);
	
						document.querySelector('.upload_sec').appendChild(newDiv);
				    })
				</script>
			
		</form>

	</div>

	
	<script>
    	$(() => {
        	$('#notice_txt').summernote({
        		height: 400,
        		lang: 'ko-KR',
        	});
    	});
  </script>
</body>
</html>